import{c as s,d as W,h as C,w as V,g as a,z as re,T as Y,e,t as u,i as y,A as se,r as i,a as Q,B as _e,n as d,m as ee,C as ae,s as ne,D as T,u as m,k as te,v as Ce,F as B,E as P,G as $e,H as Me,I as Se,J as N,x as oe,K as Te,_ as Be}from"./index-BNM-ryDn.js";import{u as Le}from"./useModalWindow-Dlr8yTjZ.js";import{_ as le}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as ze}from"./TheBreadcrumb-_xWu2tz0.js";import{u as Ae}from"./ux.store-BWh9zpiu.js";const Pe={key:0,class:"bg-white dark:bg-[#171131] p-6 rounded-2xl shadow-xl w-96"},je={class:"dark:text-white mb-3 text-xl font-bold"},De={class:"dark:text-white"},Oe={class:"flex justify-end mt-5 space-x-2"},He={__name:"ConfirmModal",props:{isOpen:Boolean,header:String,context:String},emits:["close","submit"],setup(l,{emit:g}){const b=g,c=()=>{b("close")};return(v,f)=>(s(),W(se,{to:"body"},[C(Y,{name:"fade"},{default:V(()=>[l.isOpen?(s(),a("div",{key:0,class:"absolute z-40 inset-0 flex items-center justify-center bg-black/75",onClick:re(c,["self"])},[C(Y,{name:"modal"},{default:V(()=>[l.isOpen?(s(),a("div",Pe,[e("h2",je,u(l.header),1),e("p",De,u(l.context),1),e("div",Oe,[e("button",{onClick:c,class:"px-4 py-2 text-[0.8rem] font-medium bg-red-400 hover:bg-red-500 transition ease-in hover:ease-out duration-200 text-white dark:bg-pink-900 dark:hover:bg-pink-600 border border-gray-200 rounded-lg focus:z-10 focus:ring-2 focus:ring-red-500 dark:border-gray-700 dark:focus:ring-pink-500"}," Ýok "),e("button",{onClick:f[0]||(f[0]=p=>v.$emit("submit")),class:"px-4 py-2 text-[0.8rem] font-medium bg-blue-400 hover:bg-blue-500 transition ease-in hover:ease-out duration-200 text-white dark:bg-blue-700 dark:hover:bg-blue-800 border border-gray-200 rounded-lg focus:z-10 focus:ring-2 focus:ring-blue-500 dark:border-gray-700 dark:focus:ring-blue-700"}," Hawa ")])])):y("",!0)]),_:1})])):y("",!0)]),_:1})]))}},Ee={class:"hidden md:block mb-3 text-base font-semibold select-none"},Ie={class:"flex justify-between text-sm items-center mt-4 md:mt-0"},Re={class:"select-none"},Ge={__name:"TheToast",props:{message:String,type:{type:String,default:"info"},duration:{type:Number,default:3e3},onClose:Function},setup(l){const g=l,b=i(!0);let c;Q(()=>{c=setTimeout(()=>v(),g.duration)}),_e(()=>clearTimeout(c));const v=()=>{b.value=!1,setTimeout(()=>g.onClose(),300)},f={success:"border-l-8 border-green-500",error:"border-l-8 border-red-500",warning:"border-l-8 border-yellow-500",info:"border-l-8 border-blue-500"},p={success:"Üstünlik",error:"Ýalňyşlyk",warning:"Duýduryş",info:"Bildiriş"};return(K,j)=>b.value?(s(),a("div",{key:0,class:d(`toast my-2 p-4 bg-white dark:bg-[#171131] w-full dark:text-white rounded-lg shadow-lg transition-all ${f[l.type]}`)},[e("h3",Ee,u(p[l.type]),1),e("button",{class:"absolute top-3 right-5 font-bold dark:text-white select-none",onClick:re(v,["stop"])},"✖"),e("div",Ie,[e("div",Re,u(l.message),1)])],2)):y("",!0)}},Ne=le(Ge,[["__scopeId","data-v-be7b8cbd"]]);function Ve(){const l=i([]);return{toasts:l,addToast:(b,c="info",v=3e3)=>{const f=Date.now();l.value.push({id:f,message:b,type:c,duration:v}),setTimeout(()=>{l.value=l.value.filter(p=>p.id!==f)},v+300)}}}const Ke={class:"w-full rounded-lg shadow-lg"},Ue={class:"pt-1 rounded-t-lg dark:bg-[#112731] bg-white"},Fe={class:"flex items-center justify-between space-x-2 py-3 px-4"},Je={class:"flex items-center"},We={id:"dropdown",class:"relative inline-block text-left"},Ye={class:"absolute left-0 z-10 mt-2 w-24 origin-top-left rounded-md bg-white dark:bg-[#112731] shadow-lg ring-1 ring-white dark:ring-gray-800 ring-opacity-5"},Qe={class:"py-1"},Ze=["value","onClick"],qe={class:"lg:w-1/3 md:w-1/3 w-2/3 flex items-center space-x-2"},Xe=["disabled"],et={class:"w-full overflow-x-auto rounded-b-lg"},tt={class:"w-full min-w-full table-auto bg-white dark:bg-[#112731]"},ot={class:"bg-gray-200 dark:bg-[#113031]"},rt={class:"px-6 border-y border-gray-300 dark:border-[#113031] select-none text-left"},st={xmlns:"http://www.w3.org/2000/svg",class:"w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},at={class:"border-y border-gray-300 dark:border-[#113031] px-6"},nt=["onClick"],lt={xmlns:"http://www.w3.org/2000/svg",class:"w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},dt={class:"border-y border-gray-300 dark:border-[#113031] px-4 py-2 break-words text-[0.8rem]"},it={class:"border-y border-gray-300 dark:border-[#113031] p-2 break-words text-[0.8rem]"},ut={class:"border-y border-gray-300 dark:border-[#113031] p-2 break-words text-[0.8rem]"},ct={class:"border-y border-gray-300 dark:border-[#113031] p-2 break-words text-[0.8rem]"},vt={class:"border-y border-gray-300 dark:border-[#113031] p-2 break-words text-[0.8rem]"},bt={class:"border-y border-gray-300 dark:border-[#113031] p-2 break-words text-[0.8rem]"},gt={class:"w-full flex items-center justify-center"},kt={class:"inline-flex rounded-md shadow-xs",role:"group"},ft=["onClick"],yt=["onClick"],mt=["onClick"],pt={class:"flex justify-center items-center mt-4 space-x-2 overflow-x-auto"},ht={key:2,class:"px-2 select-none"},xt=["onClick"],wt=["onClick"],_t={key:4,class:"px-2 select-none"},Ct={class:"toast-container w-5/6 fixed top-25 md:top-auto md:bottom-5 right-5 md:w-1/4 flex flex-col-reverse space-y-2"},$t={__name:"HighSchoolsDataTable",props:["data"],emits:["update"],setup(l,{emit:g}){const b=l,c=g;ee(b,(r,t)=>{h.value=r.data,L.value=[...h.value]});const{isModalOpen:v,openModal:f,header:p,context:K}=Le(),{toasts:j,addToast:$}=Ve(),Z=ae(),{deleteStatus:q,updateStatus:D,createStatus:O}=ne(Z),h=i([]),L=i([]),H=i(null);b.data.length>0&&(h.value=b.data,L.value=[...h.value]);const U=i("shadow-lg p-4 py-2 my-2 rounded-full border-none dark:border-violet-500/50 border-1 bg-emerald-500 dark:bg-[#113031] text-white"),E=i("shadow-lg p-4 py-2 my-2 rounded-full border-none bg-gray-200 dark:bg-[#261953]"),k=i("name"),x=i("asc"),n=i(1),z=i(10),de=[10,20,50,100],I=i(""),R=i(!1),w=i([]),F=T(()=>h.value.length===w.value.length),ie=()=>{F.value?w.value=[]:w.value=h.value.map(r=>r.id)},ue=r=>{w.value.includes(r)?w.value=w.value.filter(t=>t!==r):w.value.push(r)},ce=()=>{L.value=h.value.filter(r=>r.name.toLowerCase().includes(I.value.toLowerCase())),n.value=1,R.value=!0},ve=()=>{I.value="",L.value=[...h.value],n.value=1,R.value=!1},X=T(()=>k.value?[...L.value].sort((r,t)=>r[k.value]<t[k.value]?x.value==="asc"?-1:1:r[k.value]>t[k.value]?x.value==="asc"?1:-1:0):h.value),be=T(()=>{const r=(n.value-1)*z.value;return X.value.slice(r,r+z.value)}),_=T(()=>Math.ceil(X.value.length/z.value)),M=r=>{r>=1&&r<=_.value&&(n.value=r)},ge=r=>{z.value=parseInt(r,10),n.value=1,A.value=!1},ke=T(()=>{const r=Math.max(2,n.value-2);return Array.from({length:Math.max(0,n.value-r)},(t,o)=>r+o)}),fe=T(()=>{const r=Math.min(_.value-1,n.value+2);return Array.from({length:Math.max(0,r-n.value)},(t,o)=>n.value+o+1)}),G=r=>{k.value===r?x.value=x.value==="asc"?"desc":"asc":(k.value=r,x.value="asc")},A=i(!1);function ye(){A.value=!A.value}function me(){A.value=!1}function pe(r){r.target.closest("#dropdown")||me()}function he(r,t,o){f(r,t),H.value=o}function xe(){v.value=!1,H.value=null}function we(){v.value=!1,Z.delete(H.value).then(()=>{c("update")}),H.value=null}return ee(q,(r,t)=>{r&&(r==="success"?$("Ýokary okuw mekdebi üstünlikli ýok edildi","success"):r==="error"&&$("Ýok etme prosesinde ýalňyşlyk ýüze çykdy","error")),q.value=null}),Q(()=>{D.value&&(D.value==="success"?$("Ýokary okuw mekdebi üstünlikli üýtgedildi","success"):D.value==="error"&&$("Üýtgetme prosesinde ýalňyşlyk ýüze çykdy","error")),D.value=null,O.value&&(O.value==="success"?$("Ýokary okuw mekdebi üstünlikli hasaba alyndy","success"):O.value==="error"&&$("Hasaba alma prosesinde ýalňyşlyk ýüze çykdy","error")),O.value=null}),window.addEventListener("click",pe),(r,t)=>(s(),a(B,null,[C(He,{"is-open":m(v),onClose:xe,onSubmit:we,header:m(p),context:`"${m(K)}" ýok edilmegini tassyklaýarsyňyzmy?`},null,8,["is-open","header","context"]),e("div",Ke,[e("div",Ue,[e("div",Fe,[e("div",Je,[e("div",We,[e("div",null,[e("button",{onClick:ye,type:"button",class:"inline-flex transition duration-200 ease-in w-full justify-center rounded-md border border-gray-300 dark:border-gray-800 bg-white dark:bg-[#113031] dark:text-gray-200 px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 dark:hover:bg-[#113031] focus:outline-none focus:ring-2 focus:ring-emerald-500 dark:focus:ring-[#2e5152] focus:ring-offset-2 focus:ring-offset-gray-100 dark:focus:ring-offset-[#2e5152] select-none"}," Setir sany: "+u(z.value),1)]),C(Y,{name:"fade-scale",onBeforeEnter:t[0]||(t[0]=o=>o.style.display="block"),onAfterLeave:t[1]||(t[1]=o=>o.style.display="none")},{default:V(()=>[te(e("div",Ye,[e("div",Qe,[(s(),a(B,null,P(de,o=>e("button",{key:o,value:o,onClick:S=>ge(o),class:"w-full text-start text-gray-700 dark:text-gray-200 block px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-[#113031] select-none"},u(o)+" setir ",9,Ze)),64))])],512),[[Ce,A.value]])]),_:1})])]),e("div",qe,[e("button",{onClick:ve,class:d([{"opacity-0":!R.value},"p-2 text-sm rounded-xl shadow-md bg-emerald-500 dark:bg-emerald-400 text-white"]),disabled:!R.value},t[11]||(t[11]=[$e('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="w-6 h-6" viewBox="0 0 24 24" version="1.1" data-v-13c3b753><title data-v-13c3b753>Reload</title><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" data-v-13c3b753><g id="Reload" data-v-13c3b753><rect id="Rectangle" fill-rule="nonzero" x="0" y="0" width="24" height="24" data-v-13c3b753></rect><path d="M4,13 C4,17.4183 7.58172,21 12,21 C16.4183,21 20,17.4183 20,13 C20,8.58172 16.4183,5 12,5 C10.4407,5 8.98566,5.44609 7.75543,6.21762" id="Path" stroke="currentColor" stroke-width="2" stroke-linecap="round" data-v-13c3b753></path><path d="M9.2384,1.89795 L7.49856,5.83917 C7.27552,6.34441 7.50429,6.9348 8.00954,7.15784 L11.9508,8.89768" id="Path" stroke="currentColor" stroke-width="2" stroke-linecap="round" data-v-13c3b753></path></g></g></svg>',1)]),10,Xe),te(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>I.value=o),type:"text",onKeyup:Se(ce,["enter"]),placeholder:"Gözleg",class:"w-full dark:text-gray-300 transition duration-200 ease-in bg-transparent px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:ring focus:ring-blue-200 focus:outline-none"},null,544),[[Me,I.value]])])])]),e("div",et,[e("table",tt,[e("thead",ot,[e("tr",null,[e("th",rt,[e("button",{class:"pt-2 select-none",onClick:ie},[(s(),a("svg",st,[t[12]||(t[12]=e("circle",{cx:"12",cy:"12",r:"10"},null,-1)),e("circle",{class:d([{"opacity-0":!F.value,"opacity-100":F.value},"transition duration-300 ease-out"]),cx:"12",cy:"12",r:"3"},null,2)]))])]),t[17]||(t[17]=e("th",{class:"border-y border-gray-300 dark:border-[#113031] p-3 select-none text-left text-[0.8rem]"}," T/B ",-1)),e("th",{class:"transition duration-200 ease-in border-y border-gray-300 dark:border-[#113031] dark:hover:bg-emerald-800 p-3 select-none cursor-pointer hover:bg-gray-300 text-left text-[0.8rem]",onClick:t[3]||(t[3]=o=>G("name"))},[t[13]||(t[13]=N(" ÝOKARY OKUW MEKDEBI ")),e("span",{class:d([k.value==="name"?x.value==="asc"?"rotate-180":"":"opacity-50","ml-2 transition-transform duration-200 inline-block"])}," ▲ ",2)]),e("th",{class:"transition duration-200 ease-in border-y border-gray-300 dark:border-[#113031] dark:hover:bg-emerald-800 p-3 select-none cursor-pointer hover:bg-gray-300 text-left text-[0.8rem]",onClick:t[4]||(t[4]=o=>G("students_count"))},[t[14]||(t[14]=N(" JEMI ")),e("span",{class:d([k.value==="students_count"?x.value==="asc"?"rotate-180":"":"opacity-50","ml-2 transition-transform duration-200 inline-block"])}," ▲ ",2)]),e("th",{class:"transition duration-200 ease-in border-y border-gray-300 dark:border-[#113031] dark:hover:bg-emerald-800 p-3 select-none cursor-pointer hover:bg-gray-300 text-left text-[0.8rem]",onClick:t[5]||(t[5]=o=>G("male_count"))},[t[15]||(t[15]=N(" OGLAN ")),e("span",{class:d([k.value==="male_count"?x.value==="asc"?"rotate-180":"":"opacity-50","ml-2 transition-transform duration-200 inline-block"])}," ▲ ",2)]),e("th",{class:"transition duration-200 ease-in border-y border-gray-300 dark:border-[#113031] dark:hover:bg-emerald-800 p-3 select-none cursor-pointer hover:bg-gray-300 text-left text-[0.8rem]",onClick:t[6]||(t[6]=o=>G("female_count"))},[t[16]||(t[16]=N(" GYZ ")),e("span",{class:d([k.value==="female_count"?x.value==="asc"?"rotate-180":"":"opacity-50","ml-2 transition-transform duration-200 inline-block"])}," ▲ ",2)]),t[18]||(t[18]=e("th",{class:"border-y border-gray-300 dark:border-[#113031] p-3 select-none text-center text-[0.8rem]"}," GURALLAR ",-1))])]),e("tbody",null,[(s(!0),a(B,null,P(be.value,(o,S)=>(s(),a("tr",{key:o.id,class:"transition ease-in hover:ease-out duration-200 hover:bg-gray-100 dark:hover:bg-[#113031]"},[e("td",at,[e("button",{class:"select-none",onClick:J=>ue(o.id)},[(s(),a("svg",lt,[t[19]||(t[19]=e("circle",{cx:"12",cy:"12",r:"10"},null,-1)),e("circle",{class:d([{"opacity-0":!w.value.includes(o.id),"opacity-100":w.value.includes(o.id)},"transition duration-300 ease-out"]),cx:"12",cy:"12",r:"3"},null,2)]))],8,nt)]),e("td",dt,u(S+1),1),e("td",it,u(o.name),1),e("td",ut,u(o.students_count),1),e("td",ct,u(o.male_count),1),e("td",vt,u(o.female_count),1),e("td",bt,[e("div",gt,[e("div",kt,[(s(),a("button",{type:"button",key:o.id,onClick:J=>m(oe).push(`/high-schools/edit/${o.id}`),class:"px-4 py-2 text-[0.8rem] font-medium bg-emerald-400 hover:bg-emerald-500 transition ease-in hover:ease-out duration-200 text-white dark:bg-emerald-700 border border-gray-200 rounded-s-lg focus:z-10 focus:ring-2 focus:ring-emerald-500 dark:border-gray-700 select-none"}," Üýtgetmek ",8,ft)),(s(),a("button",{type:"button",key:o.id,onClick:J=>m(oe).push(`/high-schools/view/${o.id}`),class:"px-4 py-2 text-[0.8rem] font-medium bg-violet-400 hover:bg-violet-500 transition ease-in hover:ease-out duration-200 text-white dark:bg-violet-700 border border-gray-200 focus:z-10 focus:ring-2 focus:ring-violet-500 dark:border-gray-700 select-none"}," Görmek ",8,yt)),(s(),a("button",{type:"button",key:o.id,onClick:J=>he("Ýok etmek",o.name,o.id),class:"px-4 py-2 text-[0.8rem] font-medium bg-red-400 hover:bg-red-500 transition ease-in hover:ease-out duration-200 text-white dark:bg-pink-900 dark:hover:bg-pink-600 border border-gray-200 rounded-e-lg focus:z-10 focus:ring-2 focus:ring-red-500 dark:border-gray-700 dark:focus:ring-pink-500 select-none"}," Pozmak ",8,mt))])])])]))),128))])])])]),e("div",pt,[n.value!==1?(s(),a("button",{key:0,class:d(["select-none",U.value]),onClick:t[7]||(t[7]=o=>M(n.value-1))},t[20]||(t[20]=[e("svg",{class:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M13 8L9 12M9 12L13 16M9 12H21M19.4845 7C17.8699 4.58803 15.1204 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21C15.1204 21 17.8699 19.412 19.4845 17",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]),2)):y("",!0),n.value>3?(s(),a("button",{key:1,class:d(["select-none",E.value]),onClick:t[8]||(t[8]=o=>M(1))}," 1 ",2)):y("",!0),n.value>4?(s(),a("span",ht,"...")):y("",!0),(s(!0),a(B,null,P(ke.value,o=>(s(),a("button",{class:d(["select-none",E.value]),key:"before-"+o,onClick:S=>M(o)},u(o),11,xt))),128)),_.value!==0?(s(),a("button",{key:3,class:d(["select-none",U.value])},u(n.value),3)):y("",!0),(s(!0),a(B,null,P(fe.value,o=>(s(),a("button",{class:d(["select-none",E.value]),key:"after-"+o,onClick:S=>M(o)},u(o),11,wt))),128)),n.value<_.value-3?(s(),a("span",_t,"...")):y("",!0),n.value<_.value-2?(s(),a("button",{key:5,class:d(["select-none",E.value]),onClick:t[9]||(t[9]=o=>M(_.value))},u(_.value),3)):y("",!0),n.value!==_.value&&_.value!==0?(s(),a("button",{key:6,class:d(["select-none",U.value]),onClick:t[10]||(t[10]=o=>M(n.value+1))},t[21]||(t[21]=[e("svg",{class:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M11 16L15 12M15 12L11 8M15 12H3M4.51555 17C6.13007 19.412 8.87958 21 12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C8.87958 3 6.13007 4.58803 4.51555 7",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]),2)):y("",!0)]),(s(),W(se,{to:"body"},[e("div",Ct,[C(Te,{name:"toast"},{default:V(()=>[(s(!0),a(B,null,P(m(j),o=>(s(),W(Ne,{key:o.id,message:o.message,type:o.type,duration:o.duration,onClose:()=>j.value=m(j).filter(S=>S.id!==o.id)},null,8,["message","type","duration","onClose"]))),128))]),_:1})])]))],64))}},Mt=le($t,[["__scopeId","data-v-13c3b753"]]),St={class:"w-full"},Tt={key:0,class:"flex w-full h-[58vh] items-center justify-center dark:bg-[#171131ef] bg-white rounded-lg border border-gray-200 dark:border-[#36314e]"},Bt={key:1},Dt={__name:"EducationCentersListView",setup(l){const g=ae(),{highSchools:b}=ne(g),c=Ae();Q(()=>{c.isLoading=!0,g.getAllAdditional().then(()=>{c.isLoading=!1})});const v=[{path:"/workspace/education-centers",name:"educationCenters"},{path:"/workspace/education-centers/add",name:"add"}];return(f,p)=>(s(),a("div",St,[C(ze,{paths:v}),m(c).isLoading?(s(),a("div",Tt,[C(Be,{class:"w-24"})])):(s(),a("div",Bt,[C(Mt,{data:m(b),onUpdate:p[0]||(p[0]=K=>m(g).getAllAdditional())},null,8,["data"])]))]))}};export{Dt as default};
