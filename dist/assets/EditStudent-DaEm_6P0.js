import{p as Y,a5 as Z,s as U,a6 as x,a7 as ee,f as b,a as ae,a4 as te,h as d,k as r,d as t,t as s,w as S,i as o,F as q,b as u,j as p,n as m,ab as P,_ as le,B as se}from"./index-DDRD8TYs.js";import{_ as oe}from"./TheBreadcrumb-CJ3-xkQK.js";import{c as ne,d as g,a as R,F as ie,b as v}from"./index.esm-DiDguYtm.js";import"./_commonjsHelpers-Bx2EM-6T.js";const de={class:"w-full rounded-lg shadow-lg p-4 bg-white dark:bg-[#112731]"},ue={class:"text-xl font-bold mx-2 select-none"},re={class:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4"},ce={class:"relative"},me={key:0,class:"error-message"},pe={for:"name",class:"text-input-placeholder"},be={class:"relative"},ve={key:0,class:"error-message"},ge={for:"phoneNumber",class:"text-input-placeholder"},he={class:"relative col-span-1 md:col-span-2"},_e={key:0,class:"error-message"},ye={for:"address",class:"text-input-placeholder"},$e={class:"relative"},fe={class:"option",value:0},Ve=["value"],Ee={key:0,class:"error-message"},ke={for:"region",class:"text-input-placeholder"},Ce={class:"relative"},Ne={class:"option",value:0},Le=["value"],we={key:0,class:"error-message"},Ue={for:"country",class:"text-input-placeholder"},Se={class:"relative"},qe={key:0,class:"error-message"},Re={for:"buildingsCount",class:"text-input-placeholder"},Be={class:"relative"},je={key:0,class:"error-message"},Fe={for:"roomsCount",class:"text-input-placeholder"},Pe={class:"relative"},Oe={key:0,class:"error-message"},Ae={for:"capacity",class:"text-input-placeholder"},ze={class:"relative"},De={key:0,class:"error-message"},Ie={for:"booksCount",class:"text-input-placeholder"},Me={class:"relative"},Te={key:0,class:"error-message"},Ge={for:"lng",class:"text-input-placeholder"},He={class:"relative"},Je={key:0,class:"error-message"},Ke={for:"lat",class:"text-input-placeholder"},Qe={class:"mt-10 flex flex-wrap justify-center md:justify-end lg:justify-end"},We=["disabled"],Xe={key:0,class:"text-center text-red-500 mt-3 mb-0 text-sm select-none"},Ye={__name:"EditStudent",setup(Ze){const i=Z(),{educationCenter:c}=U(i),B=te(),j=x(),F=ee(),{regions:O}=U(j),{countries:A}=U(F),z=ne().shape({name:R().trim().required("validateError"),phone_number:R().trim().required("validateError"),address:R().trim().required("validateError"),region:g().required("validateError").notOneOf([0],"selectRequiredError"),country:g().required("validateError").notOneOf([0],"selectRequiredError"),buildings_count:g().integer("integerError").min(0,"minNumberError").typeError("numberError"),capacity:g().integer("integerError").min(0,"minNumberError").typeError("numberError"),rooms_count:g().integer("integerError").min(0,"minNumberError").typeError("numberError"),books_count:g().integer("integerError").min(0,"minNumberError").typeError("numberError"),lng:g().typeError("numberError"),lat:g().typeError("numberError")}),_=b(0),y=b(0),$=b(""),f=b(""),V=b(""),E=b(0),k=b(0),C=b(0),N=b(0),L=b(0),w=b(0);function D(e,{setErrors:n}){const{name:a,phone_number:h,address:l,region:M,country:T,buildings_count:G,capacity:H,rooms_count:J,books_count:K,lng:Q,lat:W}=e;return i.put(B.params.id,{name:a,phone_number:h,address:l,region:M,country:T,buildings_count:G,capacity:H,rooms_count:J,books_count:K,lng:Q,lat:W}).then(()=>{se.push({name:"education-centers-list"})}).catch(X=>n({apiError:X}))}ae(async()=>{await i.get(B.params.id).then(()=>{$.value=c.value.name,f.value=c.value.phone_number,V.value=c.value.address,y.value=c.value.country,_.value=c.value.region,E.value=c.value.buildings_count,k.value=c.value.capacity,C.value=c.value.rooms_count,N.value=c.value.books_count,L.value=c.value.lng?c.value.lng:0,w.value=c.value.lat?c.value.lat:0}),await j.getAll(),await F.getAll()});const I=[{name:"educationCenters",routeName:"education-centers-list"},{name:"edit",routeName:"edit-education-center"}];return(e,n)=>(u(),d(q,null,[r(oe,{paths:I}),t("div",de,[t("h3",ue,s(e.$t("editEducationCenter")),1),r(o(ie),{"initial-values":{region:0,country:0,buildings_count:0,rooms_count:0,capacity:0,books_count:0,lng:0,lat:0},onSubmit:D,"validation-schema":o(z),class:"space-y-4 my-4"},{default:S(({errors:a,isSubmitting:h})=>[t("div",re,[t("div",ce,[r(o(v),{name:"name",type:"text",id:"name",class:m(["peer text-input",{"is-invalid":a.name}]),modelValue:$.value,"onUpdate:modelValue":n[0]||(n[0]=l=>$.value=l),disabled:o(i).isLoading,placeholder:e.$t("name")+"*"},null,8,["modelValue","disabled","placeholder","class"]),a.name?(u(),d("p",me,s(e.$t(a.name,{fieldName:e.$t("name")})),1)):p("",!0),t("label",pe,s(e.$t("name")+"*"),1)]),t("div",be,[r(o(v),{name:"phone_number",type:"text",id:"phoneNumber",class:m(["peer text-input",{"is-invalid":a.phone_number}]),modelValue:f.value,"onUpdate:modelValue":n[1]||(n[1]=l=>f.value=l),disabled:o(i).isLoading,placeholder:e.$t("phoneNumber")+"*"},null,8,["modelValue","disabled","placeholder","class"]),a.phone_number?(u(),d("p",ve,s(e.$t(a.phone_number,{fieldName:e.$t("phoneNumber")})),1)):p("",!0),t("label",ge,s(e.$t("phoneNumber")+"*"),1)]),t("div",he,[r(o(v),{name:"address",type:"text",as:"textarea",id:"address",class:m(["peer text-input",{"is-invalid":a.address}]),modelValue:V.value,"onUpdate:modelValue":n[2]||(n[2]=l=>V.value=l),disabled:o(i).isLoading,placeholder:e.$t("address")+"*",rows:"1"},null,8,["modelValue","disabled","placeholder","class"]),a.address?(u(),d("p",_e,s(e.$t(a.address,{fieldName:e.$t("address")})),1)):p("",!0),t("label",ye,s(e.$t("address")+"*"),1)]),t("div",$e,[r(o(v),{name:"region",as:"select",id:"region",class:m(["peer text-input",{"is-invalid":a.region}]),modelValue:_.value,"onUpdate:modelValue":n[3]||(n[3]=l=>_.value=l),disabled:o(i).isLoading,placeholder:e.$t("region")+"*"},{default:S(()=>[t("option",fe,s(e.$t("unselected")),1),(u(!0),d(q,null,P(o(O),l=>(u(),d("option",{class:"option",value:l.id},s(l.name),9,Ve))),256))]),_:2},1032,["modelValue","disabled","placeholder","class"]),a.region?(u(),d("p",Ee,s(e.$t(a.region,{fieldName:e.$t("region")})),1)):p("",!0),t("label",ke,s(e.$t("region")+"*"),1)]),t("div",Ce,[r(o(v),{name:"country",as:"select",id:"country",class:m(["peer text-input",{"is-invalid":a.country}]),modelValue:y.value,"onUpdate:modelValue":n[4]||(n[4]=l=>y.value=l),disabled:o(i).isLoading,placeholder:e.$t("country")+"*"},{default:S(()=>[t("option",Ne,s(e.$t("unselected")),1),(u(!0),d(q,null,P(o(A),l=>(u(),d("option",{class:"option",value:l.id},s(l.name),9,Le))),256))]),_:2},1032,["modelValue","disabled","placeholder","class"]),a.country?(u(),d("p",we,s(e.$t(a.country,{fieldName:e.$t("country")})),1)):p("",!0),t("label",Ue,s(e.$t("country")+"*"),1)]),t("div",Se,[r(o(v),{name:"buildings_count",type:"number",id:"buildingsCount",class:m(["peer text-input",{"is-invalid":a.buildings_count}]),disabled:o(i).isLoading,modelValue:E.value,"onUpdate:modelValue":n[5]||(n[5]=l=>E.value=l),placeholder:e.$t("buildingsCount")},null,8,["disabled","modelValue","placeholder","class"]),a.buildings_count?(u(),d("p",qe,s(e.$t(a.buildings_count,{fieldName:e.$t("buildingsCount")})),1)):p("",!0),t("label",Re,s(e.$t("buildingsCount")),1)]),t("div",Be,[r(o(v),{name:"rooms_count",type:"number",id:"roomsCount",class:m(["peer text-input",{"is-invalid":a.rooms_count}]),modelValue:C.value,"onUpdate:modelValue":n[6]||(n[6]=l=>C.value=l),disabled:o(i).isLoading,placeholder:e.$t("roomsCount")},null,8,["modelValue","disabled","placeholder","class"]),a.rooms_count?(u(),d("p",je,s(e.$t(a.rooms_count,{fieldName:e.$t("roomsCount")})),1)):p("",!0),t("label",Fe,s(e.$t("roomsCount")),1)]),t("div",Pe,[r(o(v),{name:"capacity",type:"number",id:"capacity",class:m(["peer text-input",{"is-invalid":a.capacity}]),placeholder:e.$t("capacityP"),disabled:o(i).isLoading,modelValue:k.value,"onUpdate:modelValue":n[7]||(n[7]=l=>k.value=l)},null,8,["placeholder","disabled","modelValue","class"]),a.capacity?(u(),d("p",Oe,s(e.$t(a.capacity,{fieldName:e.$t("capacityP")})),1)):p("",!0),t("label",Ae,s(e.$t("capacityP")),1)]),t("div",ze,[r(o(v),{name:"books_count",type:"number",id:"booksCount",class:m(["peer text-input",{"is-invalid":a.books_count}]),modelValue:N.value,"onUpdate:modelValue":n[8]||(n[8]=l=>N.value=l),disabled:o(i).isLoading,placeholder:e.$t("booksCount")},null,8,["modelValue","disabled","placeholder","class"]),a.books_count?(u(),d("p",De,s(e.$t(a.books_count,{fieldName:e.$t("booksCount")})),1)):p("",!0),t("label",Ie,s(e.$t("booksCount")),1)]),t("div",Me,[r(o(v),{name:"lng",type:"number",id:"lng",class:m(["peer text-input",{"is-invalid":a.lng}]),placeholder:e.$t("lng"),modelValue:L.value,"onUpdate:modelValue":n[9]||(n[9]=l=>L.value=l),disabled:o(i).isLoading},null,8,["placeholder","modelValue","disabled","class"]),a.lng?(u(),d("p",Te,s(e.$t(a.lng,{fieldName:e.$t("lng")})),1)):p("",!0),t("label",Ge,s(e.$t("lng")),1)]),t("div",He,[r(o(v),{name:"lat",type:"number",id:"lat",class:m(["peer text-input",{"is-invalid":a.lat}]),placeholder:e.$t("lat"),modelValue:w.value,"onUpdate:modelValue":n[10]||(n[10]=l=>w.value=l),disabled:o(i).isLoading},null,8,["placeholder","modelValue","disabled","class"]),a.lat?(u(),d("p",Je,s(e.$t(a.lat,{fieldName:e.$t("lat")})),1)):p("",!0),t("label",Ke,s(e.$t("lat")),1)])]),t("div",Qe,[t("button",{disabled:h||o(i).isLoading,class:"flex w-50 justify-center btn-primary"},[r(le,{class:m({hidden:!h||!o(i).isLoading})},null,8,["class"]),t("span",{class:m({hidden:h||o(i).isLoading})},s(e.$t("edit")),3)],8,We)]),a.apiError?(u(),d("div",Xe,s(a.apiError),1)):p("",!0)]),_:1},8,["validation-schema"])])],64))}},la=Y(Ye,[["__scopeId","data-v-7ed9d132"]]);export{la as default};
