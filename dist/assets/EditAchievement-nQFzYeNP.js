import{ai as y,s as x,f as $,a as w,a4 as N,h as c,k as d,d as a,t as o,w as k,i as n,F as E,b as r,j as p,n as u,_ as V,B as j}from"./index-DDRD8TYs.js";import{_ as F}from"./TheBreadcrumb-CJ3-xkQK.js";import{c as B,a as L,F as A,b as C}from"./index.esm-DiDguYtm.js";import"./_commonjsHelpers-Bx2EM-6T.js";const S={class:"w-full rounded-lg shadow-lg p-4 bg-white dark:bg-[#112731]"},R={class:"text-xl font-bold mx-2 select-none"},q={class:"grid grid-cols-1 gap-x-8 gap-y-4"},z={class:"relative"},D={key:0,class:"error-message"},M={for:"name",class:"text-input-placeholder"},P={class:"mt-10 flex flex-wrap justify-center md:justify-end lg:justify-end"},T=["disabled"],U={key:0,class:"text-center text-red-500 mt-3 mb-0 text-sm select-none"},O={__name:"EditAchievement",setup(G){const s=y(),{achievement:_}=x(s),h=N(),f=B().shape({name:L().trim().required("validateError")}),m=$("");function v(e,{setErrors:l}){const{name:t}=e;return s.put(h.params.id,{name:t}).then(()=>{j.push({name:"achievements-list"})}).catch(i=>l({apiError:i}))}w(async()=>{await s.get(h.params.id).then(()=>{m.value=_.value.name})});const b=[{name:"achievements",routeName:"achievements-list"},{name:"edit",routeName:"edit-achievement"}];return(e,l)=>(r(),c(E,null,[d(F,{paths:b}),a("div",S,[a("h3",R,o(e.$t("editAchievement")),1),d(n(A),{onSubmit:v,"validation-schema":n(f),class:"space-y-4 my-4"},{default:k(({errors:t,isSubmitting:i})=>[a("div",q,[a("div",z,[d(n(C),{name:"name",type:"text",id:"name",class:u(["peer text-input",{"is-invalid":t.name}]),modelValue:m.value,"onUpdate:modelValue":l[0]||(l[0]=g=>m.value=g),disabled:n(s).isLoading,placeholder:e.$t("name")+"*"},null,8,["modelValue","disabled","placeholder","class"]),t.name?(r(),c("p",D,o(e.$t(t.name,{fieldName:e.$t("name")})),1)):p("",!0),a("label",M,o(e.$t("name")+"*"),1)])]),a("div",P,[a("button",{disabled:i||n(s).isLoading,class:"flex w-50 justify-center btn-primary"},[d(V,{class:u({hidden:!i||!n(s).isLoading})},null,8,["class"]),a("span",{class:u({hidden:i||n(s).isLoading})},o(e.$t("edit")),3)],8,T)]),t.apiError?(r(),c("div",U,o(t.apiError),1)):p("",!0)]),_:1},8,["validation-schema"])])],64))}};export{O as default};
