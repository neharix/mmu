import{c as $,a as g,F as M,b as x}from"./index.esm-CIUW2iPk.js";import{A as j,q as S,f as A,s as B,a as C,o as F,B as f,h as u,k as o,d as e,S as V,t as a,w as n,r as N,i,F as q,b as p,j as E,n as m,_ as T}from"./index-ClwzeL6-.js";import{T as v}from"./TooltipMessage-BSyvCZxU.js";import"./_commonjsHelpers-Bx2EM-6T.js";const D={class:"w-full md:w-1/2 p-8 md:p-12 flex flex-col justify-center bg-white dark:bg-gray-800"},P={class:"flex justify-between"},z={class:"text-2xl font-bold text-gray-800 dark:text-gray-200 mb-2"},U={class:"text-gray-600 dark:text-gray-400 mb-6"},H={class:"relative"},I={class:"text-red-500"},L={for:"username",class:"text-input-placeholder"},R={class:"relative"},G={key:0,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",viewBox:"0 0 24 24",class:"iconify iconify--lucide w-5 text-gray-500"},J={key:1,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",viewBox:"0 0 24 24",class:"iconify iconify--lucide w-5 text-gray-500"},K={for:"password",class:"text-input-placeholder"},O={class:"text-red-500"},Q={class:"flex flex-wrap justify-center mt-16"},W=["disabled"],X={class:"-mt-4"},Y={class:"text-center text-emerald-500 dark:text-emerald-600 underline"},Z={key:0,class:"text-center text-red-500 mt-3 mb-0 text-sm"},ee={class:"hidden md:flex w-full md:w-1/2 bg-gradient-to-br from-emerald-500 to-emerald-700 dark:from-emerald-700 dark:to-emerald-900 text-white p-10 items-center justify-center text-center transition duration-300 ease-in-out"},te={class:"text-white text-sm leading-relaxed"},le={__name:"LoginView",setup(se){const b=j(),d=S(),w=A(!1),{loginStatus:h}=B(d),k=$().shape({username:g().trim().required("validateError"),password:g().required("validateError")});function _(t,{setErrors:s}){const{username:c,password:r}=t;return h.value=null,d.login({username:c,password:r}).then(()=>{f.push({name:"workspace-view"})}).catch(l=>s({apiError:l}))}function y(){let t=document.querySelector("#password");t.getAttribute("type")==="password"?(t.setAttribute("type","text"),w.value=!0):(t.setAttribute("type","password"),w.value=!1)}return C(()=>{b.clearData()}),F(()=>{if(d.isAuthenticated)f.push({name:"workspace-view"});else try{d.fetchUser().then(()=>{f.push({name:"workspace-view"})})}catch{}}),(t,s)=>{const c=N("router-link");return p(),u(q,null,[o(V,{class:"absolute top-5 right-5 md:right-20 text-white","without-tooltips":!0,"mobile-dropdown-classes":"top-8 right-0"}),e("div",D,[e("div",P,[e("h2",z,a(t.$t("hello")),1),o(c,{to:{name:"main"}},{default:n(()=>s[0]||(s[0]=[e("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",viewBox:"0 0 24 24",class:"iconify iconify--lucide w-6"},[e("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[e("path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"}),e("path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"})])],-1)])),_:1})]),e("p",U,a(t.$t("signIn")),1),o(i(M),{onSubmit:_,"validation-schema":i(k),class:"space-y-10"},{default:n(({errors:r,isSubmitting:l})=>[e("div",H,[o(i(x),{name:"username",type:"text",id:"username",class:m(["peer text-input",{"is-invalid":r.username}]),placeholder:t.$t("username")},null,8,["placeholder","class"]),o(v,{"position-classes":"-bottom-10","is-visible":!!r.username,"only-smooth-text":!0},{default:n(()=>[e("p",I,a(t.$t(r.username,{fieldName:t.$t("username")})),1)]),_:2},1032,["is-visible"]),e("label",L,a(t.$t("username")),1)]),e("div",R,[o(i(x),{name:"password",type:"password",id:"password",placeholder:t.$t("password"),class:m(["peer text-input",{"is-invalid":r.password}])},null,8,["placeholder","class"]),e("div",{class:"absolute top-0 right-0 p-4",onClick:y},[w.value?(p(),u("svg",G,s[1]||(s[1]=[e("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[e("path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575a1 1 0 0 1 0 .696a10.8 10.8 0 0 1-1.444 2.49m-6.41-.679a3 3 0 0 1-4.242-4.242"}),e("path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151a1 1 0 0 1 0-.696a10.75 10.75 0 0 1 4.446-5.143M2 2l20 20"})],-1)]))):(p(),u("svg",J,s[2]||(s[2]=[e("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[e("path",{d:"M2.062 12.348a1 1 0 0 1 0-.696a10.75 10.75 0 0 1 19.876 0a1 1 0 0 1 0 .696a10.75 10.75 0 0 1-19.876 0"}),e("circle",{cx:"12",cy:"12",r:"3"})],-1)])))]),e("label",K,a(t.$t("password")),1),o(v,{"position-classes":"-bottom-10","is-visible":!!r.password,"only-smooth-text":!0},{default:n(()=>[e("p",O,a(t.$t(r.password,{fieldName:t.$t("password")})),1)]),_:2},1032,["is-visible"])]),e("div",Q,[e("button",{disabled:l,class:"flex justify-center w-50 py-2 px-2 border-none text-base rounded-xl bg-emerald-500 dark:bg-emerald-600 text-white shadow-emerald-500/30 ring-0 hover:ring-4 ring-emerald-400/10 transition-all duration-300 ease-in-out"},[o(T,{class:m({hidden:!l})},null,8,["class"]),e("span",{class:m(["select-none",{hidden:l}])},a(t.$t("login")),3)],8,W)]),e("div",X,[o(c,{to:{name:"reset-password"},class:"w-full"},{default:n(()=>[e("p",Y,a(t.$t("forgotPassword")),1)]),_:1})]),i(h)?(p(),u("div",Z,a(i(h)),1)):E("",!0)]),_:1},8,["validation-schema"])]),e("div",ee,[e("div",null,[s[3]||(s[3]=e("h2",{class:"text-2xl font-bold mb-4"},"MMU",-1)),e("p",te,a(t.$t("mmuAbbr")),1)])])],64)}}};export{le as default};
