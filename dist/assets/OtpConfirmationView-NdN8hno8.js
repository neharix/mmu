import{c as b,a as g,F as x,b as y}from"./index.esm-DW2ue5QU.js";import{f as w,q as $,u as S,s as k,o as B,B as p,h as u,k as r,d as t,S as C,t as a,i as d,w as m,F as E,b as h,j as F,n as i,_ as T}from"./index-DHY7-PiM.js";import{T as j}from"./TooltipMessage-9idwR5MO.js";import"./_commonjsHelpers-Bx2EM-6T.js";const N={class:"w-full p-8 md:p-12 flex flex-col justify-center bg-white dark:bg-gray-800"},O={class:"text-2xl font-bold text-gray-800 dark:text-gray-200 mb-2"},V={class:"text-gray-600 dark:text-gray-400 mb-6"},q={class:"relative"},I={class:"text-red-500"},M={for:"otp",class:"text-input-placeholder"},z={class:"text-center text-red-500"},A=["disabled"],J={__name:"OtpConfirmationView",setup(D){const s=w(null),n=$();S();const{censoredEmail:f}=k(n),v=b().shape({otp:g().trim().required("validateError")});function _(e,{setErrors:c}){const{otp:o}=e;s.value=null,n.sendOtp(o).then(()=>{if(n.isCorrectOtp)return p.push({name:"set-new-password"});s.value="otpInvalid"}).catch(l=>c({apiError:l}))}return B(()=>{let e=sessionStorage.getItem("censored_email");e?f.value=e:p.push({name:"login-page"})}),(e,c)=>(h(),u(E,null,[r(C,{class:"absolute top-5 right-5 md:right-20 text-white","without-tooltips":!0,"mobile-dropdown-classes":"top-8 right-0"}),t("div",N,[t("h2",O,a(e.$t("enterOtp")),1),t("p",V,a(e.$t("otpSendedTo",{email:d(n).censoredEmail})),1),r(d(x),{onSubmit:_,"validation-schema":d(v),class:"space-y-10"},{default:m(({errors:o,isSubmitting:l})=>[t("div",q,[r(d(y),{name:"otp",type:"text",id:"otp",class:i(["peer text-input",{"is-invalid":o.otp}]),placeholder:e.$t("otp")},null,8,["placeholder","class"]),r(j,{"position-classes":"-bottom-10","is-visible":!!o.otp,"only-smooth-text":!0},{default:m(()=>[t("p",I,a(e.$t(o.otp,{fieldName:e.$t("otp")})),1)]),_:2},1032,["is-visible"]),t("label",M,a(e.$t("otp")),1)]),s.value?(h(),u("div",{key:0,class:i({"":!s.value,"-my-4":s.value})},[t("p",z,a(e.$t(s.value)),1)],2)):F("",!0),t("div",{class:i(["flex flex-wrap justify-center",{"mt-16":!s.value,"mt-8":s.value}])},[t("button",{disabled:l,class:"flex justify-center w-50 py-2 px-2 border-none text-base rounded-xl bg-emerald-500 dark:bg-emerald-600 text-white shadow-emerald-500/30 ring-0 hover:ring-4 ring-emerald-400/10 transition-all duration-300 ease-in-out"},[r(T,{class:i({hidden:!l})},null,8,["class"]),t("span",{class:i(["select-none",{hidden:l}])},a(e.$t("confirm")),3)],8,A)],2)]),_:1},8,["validation-schema"])])],64))}};export{J as default};
