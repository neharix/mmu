import{c as y,a as w,F as k,b as S}from"./index.esm-DtKE84Cf.js";import{r as m,y as $,q as T,j as C,s as F,m as j,a as D,g as h,h as r,u as n,e as t,t as o,w as f,F as E,x as N,c as v,n as i,i as O,_ as V}from"./index-BNM-ryDn.js";import{S as B}from"./SiteTools-C84q5IHS.js";import{T as q}from"./TooltipMessage-qGMftjYR.js";import{u as I}from"./ux.store-BWh9zpiu.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useModalWindow-Dlr8yTjZ.js";const M={class:"w-full p-8 md:p-12 flex flex-col justify-center bg-white dark:bg-gray-800"},z={class:"text-2xl font-bold text-gray-800 dark:text-gray-200 mb-2"},A={class:"text-gray-600 dark:text-gray-400 mb-6"},R={class:"relative"},U={class:"text-red-500"},G={for:"otp",class:"text-input-placeholder"},H={class:"text-center text-red-500"},J=["disabled"],ee={__name:"OtpConfirmationView",setup(K){const s=m(null);$();const g=T(),c=C(),u=I(),{theme:b}=F(u),x=y().shape({otp:w().trim().required("validateError")});function _(e,{setErrors:d}){const{otp:a}=e;s.value=null,c.sendOtp(a).then(()=>{if(c.isCorrectOtp)return N.push({name:"set-new-password"});s.value="otpInvalid"}).catch(l=>d({apiError:l}))}const p=m(null);return j(b,e=>{p.value=e==="dark"}),D(()=>{g.clearData();const e=localStorage.getItem("theme");p.value=e==="dark"}),(e,d)=>(v(),h(E,null,[r(B,{class:"absolute top-5 right-5 md:right-20 text-white","is-dark":p.value,onToggleTheme:d[0]||(d[0]=a=>n(u).toggleTheme()),notifications:!1,"without-tooltips":!0,"mobile-dropdown-classes":"top-8 right-0"},null,8,["is-dark"]),t("div",M,[t("h2",z,o(e.$t("enterOtp")),1),t("p",A,o(e.$t("otpSendedTo",{email:n(c).censoredEmail})),1),r(n(S),{onSubmit:_,"validation-schema":n(x),class:"space-y-10"},{default:f(({errors:a,isSubmitting:l})=>[t("div",R,[r(n(k),{name:"otp",type:"text",id:"otp",class:i(["peer text-input",{"is-invalid":a.otp}]),placeholder:e.$t("otp")},null,8,["placeholder","class"]),r(q,{"position-classes":"-bottom-10","is-visible":!!a.otp,"only-smooth-text":!0},{default:f(()=>[t("p",U,o(e.$t(a.otp,{fieldName:e.$t("otp")})),1)]),_:2},1032,["is-visible"]),t("label",G,o(e.$t("otp")),1)]),s.value?(v(),h("div",{key:0,class:i({"":!s.value,"-my-4":s.value})},[t("p",H,o(e.$t(s.value)),1)],2)):O("",!0),t("div",{class:i(["flex flex-wrap justify-center",{"mt-16":!s.value,"mt-8":s.value}])},[t("button",{disabled:l,class:"flex justify-center w-50 py-2 px-2 border-none text-base rounded-xl bg-emerald-500 dark:bg-emerald-600 text-white shadow-emerald-500/30 ring-0 hover:ring-4 ring-emerald-400/10 transition-all duration-300 ease-in-out"},[r(V,{class:i({hidden:!l})},null,8,["class"]),t("span",{class:i(["select-none",{hidden:l}])},o(e.$t("confirm")),3)],8,J)],2)]),_:1},8,["validation-schema"])])],64))}};export{ee as default};
