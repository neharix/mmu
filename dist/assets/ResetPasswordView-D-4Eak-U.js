import{c as _,a as b,F as x,b as v}from"./index.esm-CIUW2iPk.js";import{q as g,u as y,f as w,h as c,k as l,d as t,S as $,t as s,w as m,i,F as k,b as p,j as F,n,_ as S,B as N}from"./index-ClwzeL6-.js";import{T as j}from"./TooltipMessage-BSyvCZxU.js";import"./_commonjsHelpers-Bx2EM-6T.js";const B={class:"w-full p-8 md:p-12 flex flex-col justify-center bg-white dark:bg-gray-800"},T={class:"text-2xl font-bold text-gray-800 dark:text-gray-200 mb-2"},V={class:"text-gray-600 dark:text-gray-400 mb-6"},C={class:"relative"},E={class:"text-red-500"},O={for:"username",class:"text-input-placeholder"},U={class:"text-center text-red-500"},q={class:"flex flex-wrap justify-center mt-8"},A=["disabled"],R={__name:"ResetPasswordView",setup(P){const d=g();y();const a=w(null),h=_().shape({username:b().trim().required("validateError")});function f(e,{setErrors:u}){const{username:r}=e;return a.value=null,d.tryToGetOtpForUser(r).then(()=>{d.isOtpAvailable?N.push({name:"otp-confirmation"}):a.value="userNotFound"}).catch(o=>u({apiError:o}))}return(e,u)=>(p(),c(k,null,[l($,{class:"absolute top-5 right-5 md:right-20 text-white","without-tooltips":!0,"mobile-dropdown-classes":"top-8 right-0"}),t("div",B,[t("h2",T,s(e.$t("reinstatePassword")),1),t("p",V,s(e.$t("enterUsername")),1),l(i(x),{onSubmit:f,"validation-schema":i(h),class:"space-y-10"},{default:m(({errors:r,isSubmitting:o})=>[t("div",C,[l(i(v),{name:"username",type:"text",id:"username",class:n(["peer text-input",{"is-invalid":r.username}]),placeholder:e.$t("username")},null,8,["placeholder","class"]),l(j,{"position-classes":"-bottom-10","is-visible":!!r.username,"only-smooth-text":!0},{default:m(()=>[t("p",E,s(e.$t(r.username,{fieldName:e.$t("username")})),1)]),_:2},1032,["is-visible"]),t("label",O,s(e.$t("username")),1)]),a.value?(p(),c("div",{key:0,class:n({"-my-4":a.value})},[t("p",U,s(e.$t(a.value)),1)],2)):F("",!0),t("div",q,[t("button",{disabled:o,class:"flex justify-center w-50 py-2 px-2 border-none text-base rounded-xl bg-emerald-500 dark:bg-emerald-600 text-white shadow-emerald-500/30 ring-0 hover:ring-4 ring-emerald-400/10 transition-all duration-300 ease-in-out"},[l(S,{class:n({hidden:!o})},null,8,["class"]),t("span",{class:n(["select-none",{hidden:o}])},s(e.$t("getOtp")),3)],8,A)])]),_:1},8,["validation-schema"])])],64))}};export{R as default};
