import{p as I,a5 as L,a6 as M,a7 as T,s as E,f as k,o as G,h as o,k as i,d as s,t as a,w as _,i as l,F as b,b as n,j as d,n as r,ab as N,_ as H,B as J}from"./index-DHY7-PiM.js";import{_ as K}from"./TheBreadcrumb-CUBX8Ww5.js";import{c as Q,d as p,a as g,F as W,b as u}from"./index.esm-DW2ue5QU.js";import"./_commonjsHelpers-Bx2EM-6T.js";const X={class:"w-full rounded-lg shadow-lg p-4 bg-white dark:bg-[#112731]"},Y={class:"text-xl font-bold mx-2 select-none"},Z={class:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4"},x={class:"relative"},ee={key:0,class:"error-message"},te={for:"name",class:"text-input-placeholder"},se={class:"relative"},ae={key:0,class:"error-message"},oe={for:"phoneNumber",class:"text-input-placeholder"},ne={class:"relative col-span-1 md:col-span-2"},le={key:0,class:"error-message"},ie={for:"address",class:"text-input-placeholder"},re={class:"relative"},de={class:"option",value:0},ce=["value"],ue={key:0,class:"error-message"},pe={for:"region",class:"text-input-placeholder"},me={class:"relative"},he={class:"option",value:0},_e=["value"],be={key:0,class:"error-message"},ge={for:"country",class:"text-input-placeholder"},ye={class:"relative"},ve={key:0,class:"error-message"},$e={for:"buildingsCount",class:"text-input-placeholder"},fe={class:"relative"},Ee={key:0,class:"error-message"},ke={for:"roomsCount",class:"text-input-placeholder"},Ne={class:"relative"},Ce={key:0,class:"error-message"},we={for:"capacity",class:"text-input-placeholder"},Se={class:"relative"},Ve={key:0,class:"error-message"},qe={for:"booksCount",class:"text-input-placeholder"},je={class:"relative"},Ae={key:0,class:"error-message"},Be={for:"lng",class:"text-input-placeholder"},Fe={class:"relative"},Re={key:0,class:"error-message"},Oe={for:"lat",class:"text-input-placeholder"},Pe={class:"mt-10 flex flex-wrap justify-center md:justify-end lg:justify-end"},Ue=["disabled"],ze={key:0,class:"text-center text-red-500 mt-3 mb-0 text-sm select-none"},De={__name:"AddStudent",setup(Ie){const C=L(),y=M(),v=T(),{regions:w}=E(y),{countries:S}=E(v),V=Q().shape({name:g().trim().required("validateError"),phone_number:g().trim().required("validateError"),address:g().trim().required("validateError"),region:p().required("validateError").notOneOf([0],"selectRequiredError"),country:p().required("validateError").notOneOf([0],"selectRequiredError"),buildings_count:p().integer("integerError").min(0,"minNumberError").typeError("numberError"),capacity:p().integer("integerError").min(0,"minNumberError").typeError("numberError"),rooms_count:p().integer("integerError").min(0,"minNumberError").typeError("numberError"),books_count:p().integer("integerError").min(0,"minNumberError").typeError("numberError"),lng:p().typeError("numberError"),lat:p().typeError("numberError")}),$=k(0),f=k(0);function q(e,{setErrors:m}){const{name:t,phone_number:h,address:c,region:A,country:B,buildings_count:F,capacity:R,rooms_count:O,books_count:P,lng:U,lat:z}=e;return C.create({name:t,phone_number:h,address:c,region:A,country:B,buildings_count:F,capacity:R,rooms_count:O,books_count:P,lng:U,lat:z}).then(()=>{J.push({name:"education-centers-list"})}).catch(D=>m({apiError:D}))}G(async()=>{await y.getAll(),await v.getAll()});const j=[{name:"students",routeName:"students-list"},{name:"add",routeName:"add-student"}];return(e,m)=>(n(),o(b,null,[i(K,{paths:j}),s("div",X,[s("h3",Y,a(e.$t("addEducationCenter")),1),i(l(W),{"initial-values":{region:0,country:0,buildings_count:0,rooms_count:0,capacity:0,books_count:0,lng:0,lat:0},onSubmit:q,"validation-schema":l(V),class:"space-y-4 my-4"},{default:_(({errors:t,isSubmitting:h})=>[s("div",Z,[s("div",x,[i(l(u),{name:"name",type:"text",id:"name",class:r(["peer text-input",{"is-invalid":t.name}]),placeholder:e.$t("name")+"*"},null,8,["placeholder","class"]),t.name?(n(),o("p",ee,a(e.$t(t.name,{fieldName:e.$t("name")})),1)):d("",!0),s("label",te,a(e.$t("name")+"*"),1)]),s("div",se,[i(l(u),{name:"phone_number",type:"text",id:"phoneNumber",class:r(["peer text-input",{"is-invalid":t.phone_number}]),placeholder:e.$t("phoneNumber")+"*"},null,8,["placeholder","class"]),t.phone_number?(n(),o("p",ae,a(e.$t(t.phone_number,{fieldName:e.$t("phoneNumber")})),1)):d("",!0),s("label",oe,a(e.$t("phoneNumber")+"*"),1)]),s("div",ne,[i(l(u),{name:"address",type:"text",as:"textarea",id:"address",class:r(["peer text-input",{"is-invalid":t.address}]),placeholder:e.$t("address")+"*",rows:"1"},null,8,["placeholder","class"]),t.address?(n(),o("p",le,a(e.$t(t.address,{fieldName:e.$t("address")})),1)):d("",!0),s("label",ie,a(e.$t("address")+"*"),1)]),s("div",re,[i(l(u),{name:"region",as:"select",id:"region",class:r(["peer text-input",{"is-invalid":t.region}]),modelValue:$.value,"onUpdate:modelValue":m[0]||(m[0]=c=>$.value=c),placeholder:e.$t("region")+"*"},{default:_(()=>[s("option",de,a(e.$t("unselected")),1),(n(!0),o(b,null,N(l(w),c=>(n(),o("option",{class:"option",value:c.id},a(c.name),9,ce))),256))]),_:2},1032,["modelValue","placeholder","class"]),t.region?(n(),o("p",ue,a(e.$t(t.region,{fieldName:e.$t("region")})),1)):d("",!0),s("label",pe,a(e.$t("region")+"*"),1)]),s("div",me,[i(l(u),{name:"country",as:"select",id:"country",class:r(["peer text-input",{"is-invalid":t.country}]),modelValue:f.value,"onUpdate:modelValue":m[1]||(m[1]=c=>f.value=c),placeholder:e.$t("country")+"*"},{default:_(()=>[s("option",he,a(e.$t("unselected")),1),(n(!0),o(b,null,N(l(S),c=>(n(),o("option",{class:"option",value:c.id},a(c.name),9,_e))),256))]),_:2},1032,["modelValue","placeholder","class"]),t.country?(n(),o("p",be,a(e.$t(t.country,{fieldName:e.$t("country")})),1)):d("",!0),s("label",ge,a(e.$t("country")+"*"),1)]),s("div",ye,[i(l(u),{name:"buildings_count",type:"number",id:"buildingsCount",class:r(["peer text-input",{"is-invalid":t.buildings_count}]),placeholder:e.$t("buildingsCount")},null,8,["placeholder","class"]),t.buildings_count?(n(),o("p",ve,a(e.$t(t.buildings_count,{fieldName:e.$t("buildingsCount")})),1)):d("",!0),s("label",$e,a(e.$t("buildingsCount")),1)]),s("div",fe,[i(l(u),{name:"rooms_count",type:"number",id:"roomsCount",class:r(["peer text-input",{"is-invalid":t.rooms_count}]),placeholder:e.$t("roomsCount")},null,8,["placeholder","class"]),t.rooms_count?(n(),o("p",Ee,a(e.$t(t.rooms_count,{fieldName:e.$t("roomsCount")})),1)):d("",!0),s("label",ke,a(e.$t("roomsCount")),1)]),s("div",Ne,[i(l(u),{name:"capacity",type:"number",id:"capacity",class:r(["peer text-input",{"is-invalid":t.capacity}]),placeholder:e.$t("capacityP")},null,8,["placeholder","class"]),t.capacity?(n(),o("p",Ce,a(e.$t(t.capacity,{fieldName:e.$t("capacityP")})),1)):d("",!0),s("label",we,a(e.$t("capacityP")),1)]),s("div",Se,[i(l(u),{name:"books_count",type:"number",id:"booksCount",class:r(["peer text-input",{"is-invalid":t.books_count}]),placeholder:e.$t("booksCount")},null,8,["placeholder","class"]),t.books_count?(n(),o("p",Ve,a(e.$t(t.books_count,{fieldName:e.$t("booksCount")})),1)):d("",!0),s("label",qe,a(e.$t("booksCount")),1)]),s("div",je,[i(l(u),{name:"lng",type:"number",id:"lng",class:r(["peer text-input",{"is-invalid":t.lng}]),placeholder:e.$t("lng")},null,8,["placeholder","class"]),t.lng?(n(),o("p",Ae,a(e.$t(t.lng,{fieldName:e.$t("lng")})),1)):d("",!0),s("label",Be,a(e.$t("lng")),1)]),s("div",Fe,[i(l(u),{name:"lat",type:"number",id:"lat",class:r(["peer text-input",{"is-invalid":t.lat}]),placeholder:e.$t("lat")},null,8,["placeholder","class"]),t.lat?(n(),o("p",Re,a(e.$t(t.lat,{fieldName:e.$t("lat")})),1)):d("",!0),s("label",Oe,a(e.$t("lat")),1)])]),s("div",Pe,[s("button",{disabled:h,class:"flex w-50 justify-center btn-primary"},[i(H,{class:r({hidden:!h})},null,8,["class"]),s("span",{class:r({hidden:h})},a(e.$t("addAccept")),3)],8,Ue)]),t.apiError?(n(),o("div",ze,a(t.apiError),1)):d("",!0)]),_:1},8,["validation-schema"])])],64))}},He=I(De,[["__scopeId","data-v-5fdad393"]]);export{He as default};
